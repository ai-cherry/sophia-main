<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sophia AI - CEO Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --retool-bg: #f7f7f7;
            --retool-card-bg: #ffffff;
            --retool-border: #e0e0e0;
            --retool-text-primary: #1a1a1a;
            --retool-text-secondary: #6b7280;
            --retool-accent: #3b82f6;
            --status-green: #22c55e;
            --status-yellow: #f59e0b;
            --status-red: #ef4444;
        }
        body { background-color: var(--retool-bg); color: var(--retool-text-primary); font-family: 'Inter', sans-serif; }
        .tab-button {
            transition: all 0.2s ease-in-out;
            border-bottom: 2px solid transparent;
        }
        .tab-button.active {
            border-bottom-color: var(--retool-accent);
            color: var(--retool-accent);
        }
        .kpi-card { background-color: var(--retool-card-bg); border: 1px solid var(--retool-border); }
        .agent-card { background-color: var(--retool-card-bg); border: 1px solid var(--retool-border); }
        .risk-badge { padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 500; }
        .risk-high { background-color: #fee2e2; color: #b91c1c; }
        .risk-medium { background-color: #fef3c7; color: #b45309; }
        .risk-low { background-color: #dcfce7; color: #166534; }
        .chat-message.user { background-color: #e0f2fe; }
        .chat-message.assistant { background-color: #f3f4f6; }
    </style>
</head>
<body class="p-6">
    <div class="flex justify-between items-center mb-6">
        <div class="flex items-center space-x-3">
            <img src="https://raw.githubusercontent.com/ai-cherry/sophia-main/main/docs/logo_light.png" alt="Sophia AI Logo" class="h-10">
            <h1 class="text-2xl font-bold">CEO Dashboard</h1>
        </div>
        <div class="flex items-center space-x-4">
            <span class="text-sm text-gray-500">Last updated: <span id="last-updated"></span></span>
            <div class="w-8 h-8 bg-blue-800 text-white rounded-full flex items-center justify-center font-bold">LR</div>
        </div>
    </div>

    <!-- Tabs -->
    <div id="tabs" class="mb-6 border-b border-gray-200">
        <nav class="flex space-x-8 -mb-px">
            <button data-tab="strategic" class="tab-button active py-4 px-1 text-sm font-medium"><i class="fas fa-brain mr-2"></i>Strategic Intelligence</button>
            <button data-tab="system" class="tab-button py-4 px-1 text-sm font-medium"><i class="fas fa-robot mr-2"></i>AI System Status</button>
            <button data-tab="infra" class="tab-button py-4 px-1 text-sm font-medium"><i class="fas fa-server mr-2"></i>Infrastructure Monitor</button>
        </nav>
    </div>

    <!-- Tab Content -->
    <div id="tab-content">
        <!-- Strategic Intelligence Tab -->
        <div id="strategic-content" class="space-y-6">
            <!-- KPIs -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6">
                <div class="kpi-card p-4 rounded-lg shadow-sm">
                    <h3 class="text-sm font-medium text-gray-500">Revenue Growth (QTD)</h3>
                    <p class="text-3xl font-bold mt-1">15.3%</p>
                    <p class="text-xs text-green-500 flex items-center mt-1"><i class="fas fa-arrow-up mr-1"></i> 2.1% vs last quarter</p>
                </div>
                <div class="kpi-card p-4 rounded-lg shadow-sm">
                    <h3 class="text-sm font-medium text-gray-500">Client Health Score</h3>
                    <p class="text-3xl font-bold mt-1">87.5</p>
                    <div class="w-full bg-gray-200 rounded-full h-1.5 mt-2">
                        <div class="bg-green-500 h-1.5 rounded-full" style="width: 87.5%"></div>
                    </div>
                </div>
                <div class="kpi-card p-4 rounded-lg shadow-sm">
                    <h3 class="text-sm font-medium text-gray-500">Sales Efficiency</h3>
                    <p class="text-3xl font-bold mt-1">92.1%</p>
                     <p class="text-xs text-gray-500 flex items-center mt-1">Lead to Close Ratio</p>
                </div>
                <div class="kpi-card p-4 rounded-lg shadow-sm">
                    <h3 class="text-sm font-medium text-gray-500">AI Agent Performance</h3>
                    <p class="text-3xl font-bold mt-1">94.7%</p>
                    <p class="text-xs text-gray-500 flex items-center mt-1">Successful Task Completion</p>
                </div>
                <div class="kpi-card p-4 rounded-lg shadow-sm">
                    <h3 class="text-sm font-medium text-gray-500">System Health</h3>
                    <p class="text-3xl font-bold mt-1 text-green-500">98.2%</p>
                    <p class="text-xs text-gray-500 flex items-center mt-1">Overall Uptime</p>
                </div>
            </div>
            <div class="grid grid-cols-3 gap-6">
                <!-- Strategic Chat -->
                <div class="col-span-3 lg:col-span-1 kpi-card p-4 rounded-lg shadow-sm flex flex-col">
                    <h3 class="font-bold text-lg mb-4">Strategic Chat</h3>
                    <div class="flex-grow bg-gray-50 p-3 rounded-md overflow-y-auto h-96 mb-4 space-y-4">
                        <div class="chat-message assistant p-3 rounded-lg">
                            <p class="text-sm font-bold">Sophia AI</p>
                            <p class="text-sm">Welcome to the Strategic Intelligence Hub. How can I assist you with high-level decisions today?</p>
                        </div>
                         <div class="chat-message user p-3 rounded-lg">
                            <p class="text-sm font-bold">You</p>
                            <p class="text-sm">Summarize the key risk factors for our top 3 enterprise clients.</p>
                        </div>
                        <div class="chat-message assistant p-3 rounded-lg">
                            <p class="text-sm font-bold">Sophia AI</p>
                            <p class="text-sm">Based on recent Gong calls and support tickets, the key risks are: <br>1. **Innovate Corp:** Competitor product evaluation (High). <br>2. **QuantumLeap:** Upcoming contract renewal (Medium). <br>3. **Stellar Solutions:** Key stakeholder departure (Low).</p>
                        </div>
                    </div>
                    <div class="relative">
                        <input type="text" placeholder="Ask a strategic question..." class="w-full p-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-blue-500"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
                <!-- Client Health -->
                <div class="col-span-3 lg:col-span-2 kpi-card p-4 rounded-lg shadow-sm">
                    <h3 class="font-bold text-lg mb-4">Client Health Portfolio</h3>
                    <table class="w-full text-sm text-left">
                        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                            <tr>
                                <th class="px-4 py-3">Client</th>
                                <th class="px-4 py-3">Health Score</th>
                                <th class="px-4 py-3">Risk Factors</th>
                                <th class="px-4 py-3">MRR</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <td class="px-4 py-3 font-medium">Innovate Corp.</td>
                                <td class="px-4 py-3">
                                    <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-red-500 h-2.5 rounded-full" style="width: 55%"></div></div>
                                </td>
                                <td class="px-4 py-3"><span class="risk-badge risk-high">Competitor</span> <span class="risk-badge risk-medium">Usage Drop</span></td>
                                <td class="px-4 py-3">$120,500</td>
                            </tr>
                            <tr class="border-b">
                                <td class="px-4 py-3 font-medium">QuantumLeap Solutions</td>
                                <td class="px-4 py-3">
                                    <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-yellow-400 h-2.5 rounded-full" style="width: 78%"></div></div>
                                </td>
                                <td class="px-4 py-3"><span class="risk-badge risk-medium">Renewal</span></td>
                                <td class="px-4 py-3">$85,000</td>
                            </tr>
                            <tr class="border-b">
                                <td class="px-4 py-3 font-medium">Stellar Solutions</td>
                                <td class="px-4 py-3">
                                    <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-green-500 h-2.5 rounded-full" style="width: 92%"></div></div>
                                </td>
                                <td class="px-4 py-3"><span class="risk-badge risk-low">Stakeholder Change</span></td>
                                <td class="px-4 py-3">$98,200</td>
                            </tr>
                             <tr class="border-b">
                                <td class="px-4 py-3 font-medium">Nexus Enterprises</td>
                                <td class="px-4 py-3">
                                    <div class="w-full bg-gray-200 rounded-full h-2.5"><div class="bg-green-500 h-2.5 rounded-full" style="width: 95%"></div></div>
                                </td>
                                <td class="px-4 py-3"><span class="risk-badge risk-low">Positive Sentiment</span></td>
                                <td class="px-4 py-3">$76,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- AI System Status Tab -->
        <div id="system-content" class="hidden space-y-6">
             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Agent Status -->
                <div class="agent-card p-4 rounded-lg shadow-sm">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-bold">Call Analysis Agent</h4>
                        <span class="text-xs font-medium bg-green-100 text-green-800 px-2 py-1 rounded-full">Active</span>
                    </div>
                    <p class="text-xs text-gray-500 mb-3">Processing Gong call transcripts for insights.</p>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between"><span>Tasks Today:</span> <span class="font-medium">1,428</span></div>
                        <div class="flex justify-between"><span>Avg. Response:</span> <span class="font-medium">2.1s</span></div>
                        <div class="flex justify-between"><span>Success Rate:</span> <span class="font-medium">99.8%</span></div>
                    </div>
                </div>
                 <div class="agent-card p-4 rounded-lg shadow-sm">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-bold">CRM Sync Agent</h4>
                        <span class="text-xs font-medium bg-green-100 text-green-800 px-2 py-1 rounded-full">Active</span>
                    </div>
                    <p class="text-xs text-gray-500 mb-3">Keeps HubSpot data clean and up-to-date.</p>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between"><span>Syncs Today:</span> <span class="font-medium">8,921</span></div>
                        <div class="flex justify-between"><span>Avg. Latency:</span> <span class="font-medium">450ms</span></div>
                        <div class="flex justify-between"><span>Error Rate:</span> <span class="font-medium">0.01%</span></div>
                    </div>
                </div>
                 <div class="agent-card p-4 rounded-lg shadow-sm">
                    <div class="flex justify-between items-center mb-2">
                        <h4 class="font-bold">Client Health Agent</h4>
                        <span class="text-xs font-medium bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full">Warning</span>
                    </div>
                    <p class="text-xs text-gray-500 mb-3">Monitors client health signals.</p>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between"><span>Alerts Today:</span> <span class="font-medium text-yellow-600">14</span></div>
                        <div class="flex justify-between"><span>Checks Performed:</span> <span class="font-medium">32,198</span></div>
                        <div class="flex justify-between"><span>API Errors:</span> <span class="font-medium text-yellow-600">2</span></div>
                    </div>
                </div>
            </div>
            <!-- Model Performance Chart -->
            <div class="kpi-card p-4 rounded-lg shadow-sm">
                 <h3 class="font-bold text-lg mb-4">AI Model Performance (Avg. Response Time)</h3>
                 <canvas id="modelPerfChart"></canvas>
            </div>
        </div>

        <!-- Infrastructure Monitor Tab -->
        <div id="infra-content" class="hidden space-y-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                 <div class="kpi-card p-4 rounded-lg shadow-sm">
                    <h3 class="font-bold text-lg mb-4">API Health</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="font-medium">Gong API</span>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-gray-500">98ms</span>
                                <span class="text-xs font-medium bg-green-100 text-green-800 px-2 py-1 rounded-full">Healthy</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="font-medium">HubSpot API</span>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-gray-500">112ms</span>
                                <span class="text-xs font-medium bg-green-100 text-green-800 px-2 py-1 rounded-full">Healthy</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="font-medium">OpenRouter API</span>
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-gray-500">450ms</span>
                                <span class="text-xs font-medium bg-green-100 text-green-800 px-2 py-1 rounded-full">Healthy</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="font-medium">Pinecone Vector DB</span>
                             <div class="flex items-center space-x-2">
                                <span class="text-sm text-gray-500">45ms</span>
                                <span class="text-xs font-medium bg-green-100 text-green-800 px-2 py-1 rounded-full">Healthy</span>
                            </div>
                        </div>
                    </div>
                 </div>
                 <div class="kpi-card p-4 rounded-lg shadow-sm">
                    <h3 class="font-bold text-lg mb-4">Compute Resources (Lambda Labs)</h3>
                    <canvas id="computeChart"></canvas>
                 </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Tab switching logic
            const tabs = document.querySelectorAll('.tab-button');
            const contents = {
                strategic: document.getElementById('strategic-content'),
                system: document.getElementById('system-content'),
                infra: document.getElementById('infra-content'),
            };

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    Object.values(contents).forEach(c => c.classList.add('hidden'));
                    contents[tab.dataset.tab].classList.remove('hidden');
                });
            });

            // Update timestamp
            document.getElementById('last-updated').textContent = new Date().toLocaleTimeString();
            setInterval(() => {
                document.getElementById('last-updated').textContent = new Date().toLocaleTimeString();
            }, 1000);

            // Mock Chart: Model Performance
            new Chart(document.getElementById('modelPerfChart'), {
                type: 'bar',
                data: {
                    labels: ['Claude 3.5 Sonnet', 'GPT-4o', 'Llama 3.1 70B', 'O1 Preview', 'GPT-4 Turbo'],
                    datasets: [{
                        label: 'Average Response Time (ms)',
                        data: [850, 780, 920, 1500, 650],
                        backgroundColor: 'rgba(59, 130, 246, 0.5)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: { y: { beginAtZero: true } },
                    responsive: true,
                    maintainAspectRatio: false
                }
            });

            // Mock Chart: Compute Resources
             new Chart(document.getElementById('computeChart'), {
                type: 'line',
                data: {
                    labels: ['-30m', '-25m', '-20m', '-15m', '-10m', '-5m', 'Now'],
                    datasets: [
                        {
                            label: 'CPU Utilization (%)',
                            data: [45, 50, 55, 52, 60, 58, 65],
                            borderColor: 'rgba(239, 68, 68, 1)',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            fill: true,
                            tension: 0.3
                        },
                        {
                            label: 'Memory Usage (%)',
                            data: [60, 62, 61, 65, 68, 70, 72],
                            borderColor: 'rgba(34, 197, 94, 1)',
                            backgroundColor: 'rgba(34, 197, 94, 0.1)',
                            fill: true,
                             tension: 0.3
                        }
                    ]
                },
                 options: {
                    scales: { y: { beginAtZero: true, max: 100 } },
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        });
    </script>

</body>
</html>
